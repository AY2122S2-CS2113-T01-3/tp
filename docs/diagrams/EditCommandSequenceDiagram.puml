@startuml
hide footbox

participant "Unspecified" as none
participant ":EditCommand" as Command
participant ":MasterTimetable" as Master
participant ":Timetable" as Timetable

create Command
none -> Command : EditCommand("john", 1, {"d": "friday"})
activate Command
none <-- Command :
deactivate Command

none -> Command : execute(masterTimetable)
activate Command

Command ->  Master : getByName("john")
activate Master
Command <-- Master : timetable :Timetable
deactivate Master

Command -> Timetable : get(0)
activate Timetable
Command <-- Timetable : event :Event
deactivate Timetable

opt event is type meeting
Command -> Command : editEvent(event, {"d": "friday"})
activate Command
Command --> Command : isValidInput :Boolean
deactivate Command

alt isValidInput
Command -> Command : editConfirmation(event)
activate Command
Command --> Command : :String
deactivate Command

else
Command -> Command : editAbort(error)
activate Command
Command --> Command : :String
deactivate Command
end

end
none <-- Command : :String
deactivate Command
destroy Command

@enduml