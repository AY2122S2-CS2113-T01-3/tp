@startuml
hide footbox
actor user


user -> ":Ui" ++ :"add_meeting t/meeting1 d/Friday st/1230 et/1330 m/online"
create ":Parser"
":Ui" -> ":Parser" ++: new Parser("add_meeting t/meeting1 d/Friday st/1230 et/1330 m/online")
":Parser" --> ":Ui" --: parser:Parser
":Ui" -> ":Parser" ++: parseCommand("add_meeting t/meeting1 d/Friday st/1230 et/1330 m/online")
create ":AddMeetingCommand"
":Parser" -> ":AddMeetingCommand" ++: new AddMeetingCommand("meeting1": String,"Friday":String,1230:int,1330:int,"online":String)
":AddMeetingCommand" --> ":Parser" --: addMeetingCommand:AddMeetingCommand
":Parser" --> ":Ui" --: addMeetingCommand:AddMeetingCommand
":Ui" -> ":AddMeetingCommand" ++: execute(masterTimetable)
":AddMeetingCommand" -> ":Meeting" ++ : new()
":Meeting" --> ":AddMeetingCommand" --: meeting:Meeting

alt check if meeting clash with any event

activate ":AddMeetingCommand"
":AddMeetingCommand" -> ":MasterTimetable" ++: checkIfClash(meeting:Meeting)
":MasterTimetable" --> ":AddMeetingCommand" -- : :Boolean
":AddMeetingCommand" --> ":Ui" ++: ERROR_OVERLAPPING_MEETING

end

alt check if meeting exist already
activate ":AddMeetingCommand"
":AddMeetingCommand" -> ":MasterTimetable" ++: checkIfMeetingExistsAlready(meeting:Meeting)
":MasterTimetable" --> ":AddMeetingCommand" -- : :Boolean
":AddMeetingCommand" --> ":Ui" ++: ERROR_DUPLICATE_MEETING
deactivate ":AddMeetingCommand"
else add meeting

":AddMeetingCommand" -> ":MasterTimetable" ++: addMeetingToEveryoneTimetable(meeting:Meeting)
":MasterTimetable" -> ":Timetable" ++ : add(meeting:Meeting)
":Timetable" -> ":Timetable" ++: addMeetingConfirmation(meeting:Meeting)
":Timetable" --> ":MasterTimetable" --: addMeetingConfirmation:String
":MasterTimetable" --> ":AddMeetingCommand" -- : addMeetingConfirmation :String
":DeleteCommand" --> ":Ui" --: addMeetingConfirmation: String

end

@enduml